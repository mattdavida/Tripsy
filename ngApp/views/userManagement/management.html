<div class="jumbotron solid alert alert-info"ng-show="!management.hasUsers">
  <h3>Come back when you have more users...</h3>
</div>

<div ng-show="management.hasUsers">
<div class="page header">
  <h1>User Management</h1>
</div>
<hr />

<button type="button" class="btn btn-success" ng-click="management.showMore(number)">Apply Filter</button>
<button type="button" class="btn btn-warning" ng-click="management.showAll()">Show all</button>
<div class="showMore">
  <div class="col-lg-6">
    <div class="input-group">
      <span class="input-group-addon">Results to display:</span>
      <input type="text" class="form-control" ng-model="number">
    </div>
  </div>
</div>
<br>
<br>

<div class="row show-hide-message" ng-show="management.showMoreError">
  <div class="alert alert-danger">{{management.showMoreError}}</div>
</div>


<div class="panel panel-primary">
  <div class="panel-heading">
    <strong>User management</strong>
  </div>
  <table class="table">
    <tr>
      <th>Name</th>
      <th>Username</th>
      <th>Email</th>
    </tr>
    <tr ng-repeat="person in management.users | limitTo: management.limit">
      <td>{{person.name}}</td>
      <td>{{person.username}}</td>
      <td>{{person.email}}</td>
      <td>
        <a href="/edit/{{person._id}}"><button type="button" class="btn btn-primary" ng-show="management.editAccess">Edit</button></a>
        <a href="#"><button type="button" class="btn btn-danger" ng-show="management.deleteAccess" ng-click="management.delete(person._id)" data-toggle="modal" data-backdrop="false" data-target="#myModal3">Delete user</button></a>
      </td>
    </tr>
  </table>
</div>
</div>

<div id="myModal3" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
      </div>
      <div class="modal-body">
        <h4>Are you sure you want to delete this User?</h4>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" ng-click="management.deleteUser(management.userId)"  data-dismiss="modal">Yes</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
      </div>
    </div>
  </div>
</div>

<div class="jumbotron text-center solid" ng-show="management.loading2">
  <span class="glyphicon glyphicon-repeat spinner"></span>
  <p>Deleting User...</p>
</div>

<br>

<div class="row show-hide-message" ng-show="management.successMessage">
  <div class="alert alert-success">{{management.successMessage}}</div>
  </div>
</div>
<br />
</div>
